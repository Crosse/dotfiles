#!/bin/sh

case "$(uname)" in
    Linux)
        iface=$(ip -o -f inet route show default | sed -Ee 's/.*dev ([^[:space:]]+).*/\1/')
	ip addr show enp45s0 | sed -Ene 's/[[:space:]]+inet ([[:digit:].]+).*/\1/p'
        ;;
    Darwin)
        iface=$(netstat -nrf inet | awk '/default[[:space:]]+[[:digit:]:a-f]+[^%]/ { print $4 }')
	ifconfig $iface inet | awk '/inet/ { print $2 }'
        ;;
esac

